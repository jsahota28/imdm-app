{"ast":null,"code":"var _jsxFileName = \"/Users/jaskaransahota/Downloads/imdm_app/frontend/src/components/NearbyTheaters.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NearbyTheaters() {\n  _s();\n  const [zip, setZip] = useState(\"\");\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(\"\");\n  const tmdbKey = \"485cf1e763eb302fb\";\n  const fetchMovies = (region = \"US\") => {\n    axios.get(\"https://api.themoviedb.org/3/movie/now_playing\", {\n      params: {\n        api_key: tmdbKey,\n        language: \"en-US\",\n        region: region,\n        page: 1\n      }\n    }).then(res => setMovies(res.data.results)).catch(err => {\n      console.error(\"TMDB error:\", err);\n      setError(\"Could not fetch movies.\");\n    });\n  };\n  useEffect(() => {\n    // Default to geolocation if ZIP not used\n    navigator.geolocation.getCurrentPosition(position => {\n      console.log(\"Using geolocation:\", position.coords);\n      fetchMovies(); // US as default\n    }, err => {\n      console.error(\"Geo error:\", err);\n      setError(\"Location access denied.\");\n      fetchMovies(); // Still try default\n    });\n  }, []);\n  const handleZipSubmit = e => {\n    e.preventDefault();\n\n    // For now, assume all ZIPs map to US (you can integrate a ZIP API for city/region)\n    if (zip.length === 5 && /^[0-9]+$/.test(zip)) {\n      fetchMovies(\"US\");\n      setError(\"\");\n    } else {\n      setError(\"Please enter a valid 5-digit US ZIP code.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Now Playing Movies Near You\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleZipSubmit,\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter ZIP code\",\n        value: zip,\n        onChange: e => setZip(e.target.value),\n        style: {\n          padding: \"8px\",\n          fontSize: \"1rem\",\n          marginRight: \"10px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: \"8px 16px\"\n        },\n        children: \"Find Movies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexWrap: \"wrap\"\n      },\n      children: movies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"10px\",\n          width: \"200px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: `https://image.tmdb.org/t/p/w200${movie.poster_path}`,\n          alt: movie.title,\n          style: {\n            width: \"100%\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: movie.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Release Date: \", movie.release_date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, movie.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(NearbyTheaters, \"H43xtH29R24mrSH6d0W3aSFhXOM=\");\n_c = NearbyTheaters;\nexport default NearbyTheaters;\nvar _c;\n$RefreshReg$(_c, \"NearbyTheaters\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","NearbyTheaters","_s","zip","setZip","movies","setMovies","error","setError","tmdbKey","fetchMovies","region","get","params","api_key","language","page","then","res","data","results","catch","err","console","navigator","geolocation","getCurrentPosition","position","log","coords","handleZipSubmit","e","preventDefault","length","test","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","marginBottom","type","placeholder","value","onChange","target","fontSize","marginRight","display","flexWrap","map","movie","margin","width","src","poster_path","alt","title","release_date","id","_c","$RefreshReg$"],"sources":["/Users/jaskaransahota/Downloads/imdm_app/frontend/src/components/NearbyTheaters.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction NearbyTheaters() {\n  const [zip, setZip] = useState(\"\");\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  const tmdbKey = \"485cf1e763eb302fb\"; \n\n  const fetchMovies = (region = \"US\") => {\n    axios\n      .get(\"https://api.themoviedb.org/3/movie/now_playing\", {\n        params: {\n          api_key: tmdbKey,\n          language: \"en-US\",\n          region: region,\n          page: 1,\n        },\n      })\n      .then((res) => setMovies(res.data.results))\n      .catch((err) => {\n        console.error(\"TMDB error:\", err);\n        setError(\"Could not fetch movies.\");\n      });\n  };\n\n  useEffect(() => {\n    // Default to geolocation if ZIP not used\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        console.log(\"Using geolocation:\", position.coords);\n        fetchMovies(); // US as default\n      },\n      (err) => {\n        console.error(\"Geo error:\", err);\n        setError(\"Location access denied.\");\n        fetchMovies(); // Still try default\n      }\n    );\n  }, []);\n\n  const handleZipSubmit = (e) => {\n    e.preventDefault();\n\n    // For now, assume all ZIPs map to US (you can integrate a ZIP API for city/region)\n    if (zip.length === 5 && /^[0-9]+$/.test(zip)) {\n      fetchMovies(\"US\");\n      setError(\"\");\n    } else {\n      setError(\"Please enter a valid 5-digit US ZIP code.\");\n    }\n  };\n\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <h2>Now Playing Movies Near You</h2>\n\n      {/* Zip Form */}\n      <form onSubmit={handleZipSubmit} style={{ marginBottom: \"20px\" }}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter ZIP code\"\n          value={zip}\n          onChange={(e) => setZip(e.target.value)}\n          style={{ padding: \"8px\", fontSize: \"1rem\", marginRight: \"10px\" }}\n        />\n        <button type=\"submit\" style={{ padding: \"8px 16px\" }}>\n          Find Movies\n        </button>\n      </form>\n\n      {/* Error or Movie List */}\n      {error && <p>{error}</p>}\n\n      <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n        {movies.map((movie) => (\n          <div key={movie.id} style={{ margin: \"10px\", width: \"200px\" }}>\n            <img\n              src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\n              alt={movie.title}\n              style={{ width: \"100%\" }}\n            />\n            <h4>{movie.title}</h4>\n            <p>Release Date: {movie.release_date}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default NearbyTheaters;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}